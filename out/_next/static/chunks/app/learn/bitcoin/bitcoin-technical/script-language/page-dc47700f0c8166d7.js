(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9466],{1243:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5196:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9530:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},13053:(e,s,t)=>{"use strict";t.d(s,{Y:()=>n});var i=t(95155),a=t(78126),r=t.n(a);function n(e){let{metadata:s,children:t}=e,{title:a,description:n,keywords:c,canonical:d,ogImage:l,lastUpdated:o,difficulty:m,timeToComplete:p,prerequisites:x}=s;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r(),{children:[(0,i.jsxs)("title",{children:[a," | Satoshi Learning Path"]}),(0,i.jsx)("meta",{name:"description",content:n}),(0,i.jsx)("meta",{name:"keywords",content:c.join(", ")}),(0,i.jsx)("link",{rel:"canonical",href:d}),(0,i.jsx)("meta",{property:"og:title",content:a}),(0,i.jsx)("meta",{property:"og:description",content:n}),(0,i.jsx)("meta",{property:"og:image",content:l}),(0,i.jsx)("meta",{property:"og:url",content:d}),(0,i.jsx)("meta",{property:"og:type",content:"article"}),(0,i.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,i.jsx)("meta",{name:"twitter:title",content:a}),(0,i.jsx)("meta",{name:"twitter:description",content:n}),(0,i.jsx)("meta",{name:"twitter:image",content:l}),(0,i.jsx)("meta",{name:"article:published_time",content:o}),(0,i.jsx)("meta",{name:"difficulty",content:m}),(0,i.jsx)("meta",{name:"timeToComplete",content:p}),(0,i.jsx)("meta",{name:"prerequisites",content:x.join(", ")}),(0,i.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Article",headline:a,description:n,image:l,dateModified:o,author:{"@type":"Organization",name:"Satoshi Learning Path"},publisher:{"@type":"Organization",name:"Satoshi Learning Path",logo:{"@type":"ImageObject",url:"/images/logo.png"}},mainEntityOfPage:{"@type":"WebPage","@id":d},additionalProperty:[{"@type":"PropertyValue",name:"difficulty",value:m},{"@type":"PropertyValue",name:"timeToComplete",value:p},{"@type":"PropertyValue",name:"prerequisites",value:x}]})})]}),t]})}},24357:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},29621:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},32919:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},33786:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},35169:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},38196:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]])},41345:(e,s,t)=>{Promise.resolve().then(t.bind(t,62669))},43453:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},54416:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},62332:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]])},62669:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var i=t(95155);t(12115);var a=t(7068),r=t(25165),n=t(13053),c=t(66695),d=t(9530),l=t(32919),o=t(5196),m=t(54416),p=t(94498),x=t(90232),h=t(94202),u=t(62332),g=t(76356),j=t(29621),b=t(38196),f=t(1243);let y=(0,t(19946).A)("messages-square",[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]]);var N=t(24357),v=t(33786),k=t(67031),w=t(78208);let S="technical",A="script-language",P={title:"Script Language | Bitcoin",description:"Understanding Bitcoin Script, the powerful stack-based language governing transaction validation.",keywords:["bitcoin","script","scriptPubKey","scriptSig","opcode","stack language","transaction validation","p2pkh","p2sh","segwit","taproot","timelock","multisig"],canonical:"/learn/bitcoin/".concat(A),ogImage:"/images/og/bitcoin-script-language.png",lastUpdated:"2024-07-29",difficulty:"Advanced",timeToComplete:"45 minutes",prerequisites:["economic-impact"]};function _(){return(0,i.jsx)(n.Y,{metadata:P,children:(0,i.jsx)(a.F,{children:(0,i.jsx)(r.s,{moduleId:S,sectionId:A,checkpoints:1,moduleTitle:"Script Language",moduleDescription:"Bitcoin's powerful transaction programming language",difficulty:P.difficulty,icon:d.A,children:(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"bg-muted/50 p-6 rounded-lg border border-border/50",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"A Note from Satoshi"}),(0,i.jsxs)("div",{className:"prose dark:prose-invert max-w-none",children:[(0,i.jsx)("p",{children:"Long before I released Bitcoin, I recognized that a digital currency system needed more than just basic transactions. It would require a flexible, programmable foundation that could support evolving use cases while maintaining security and determinism."}),(0,i.jsx)("p",{children:"The scripting system in Bitcoin wasn't an afterthought—it was a deliberate design decision. I chose a stack-based language with simple operations, drawing inspiration from Forth and other minimalist programming languages. This approach allowed for verification without the security risks of Turing-completeness."}),(0,i.jsx)("p",{children:'Script is purposefully limited. It can\'t access the blockchain, previous transactions, or external data. It only answers one question: "Are the conditions for spending these coins satisfied?" This constraint is a feature, not a limitation. By narrowly focusing on validation logic, Script keeps the system secure and predictable while still enabling remarkable flexibility.'}),(0,i.jsx)("p",{children:"While many consider Bitcoin Script arcane or limited today, I built it with an eye to the future. Most of its capabilities remain dormant, waiting for creative minds to unlock new ways of defining ownership and conditional transfers that go far beyond what traditional financial systems can accomplish."})]})]}),(0,i.jsx)(k.A,{quote:"The design supports a tremendous variety of possible transaction types that I designed in from the beginning. Anyone can create new transaction types by programming Bitcoin Script.",date:"June 17, 2010",source:"BitcoinTalk Forum",sourceUrl:"https://bitcointalk.org/index.php?topic=195.msg1611#msg1611"}),(0,i.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Technical Foundation"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,i.jsx)("p",{children:"Bitcoin Script is a stack-based, non-Turing-complete language designed specifically for defining conditions that must be satisfied to spend Bitcoin. Unlike conventional programming languages, Script doesn't use variables, loops, or functions—it operates purely through stack manipulations and predefined operations."})}),(0,i.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,i.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"Execution Model"}),(0,i.jsx)("p",{className:"text-muted-foreground mb-3",children:"Bitcoin Script uses a simple but powerful execution model:"}),(0,i.jsxs)("ul",{className:"list-disc pl-5 space-y-1.5 text-muted-foreground",children:[(0,i.jsx)("li",{children:"Scripts execute on a stack-based virtual machine"}),(0,i.jsx)("li",{children:"Each operation (opcode) manipulates data on a single stack"}),(0,i.jsx)("li",{children:"Data is processed in postfix notation (operators follow operands)"}),(0,i.jsx)("li",{children:"Script execution is deterministic with no side effects"}),(0,i.jsx)("li",{children:"A script succeeds if it completes without errors and leaves TRUE on the stack"})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"bg-muted p-6 rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-4 flex items-center",children:[(0,i.jsx)(d.A,{className:"h-5 w-5 text-primary mr-2"}),"Stack-Based Language"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:"Bitcoin Script relies on a data structure called a stack, where elements can only be pushed onto or popped from the top:"}),(0,i.jsx)("div",{className:"bg-background p-3 rounded-lg text-xs font-mono",children:(0,i.jsx)("pre",{children:(0,i.jsx)("code",{children:"// Stack operations example:\n1 2 OP_ADD\n\nStack evolution:\n[] -> [1] -> [1, 2] -> [3]"})})})]}),(0,i.jsxs)("div",{className:"bg-muted p-6 rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-4 flex items-center",children:[(0,i.jsx)(l.A,{className:"h-5 w-5 text-primary mr-2"}),"Locking Script (scriptPubKey)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Defines the conditions required to spend the bitcoin. Part of the transaction output."}),(0,i.jsx)("div",{className:"mt-2 bg-background p-2 rounded-lg",children:(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:'Example: "Provide a public key hashing to X and a valid signature."'})})]}),(0,i.jsxs)("div",{className:"bg-muted p-6 rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-4 flex items-center",children:[(0,i.jsx)(d.A,{className:"h-5 w-5 text-primary mr-2"}),"Unlocking Script (scriptSig)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Provides data satisfying the locking script. Part of the transaction input."}),(0,i.jsx)("div",{className:"mt-2 bg-background p-2 rounded-lg",children:(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:'Example: "Here\'s my public key and signature."'})})]})]}),(0,i.jsxs)("div",{className:"bg-primary/5 p-6 rounded-lg",children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Script Execution Process"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"When a transaction is validated, Bitcoin combines the unlocking and locking scripts:"}),(0,i.jsxs)("div",{className:"flex gap-4 p-4 bg-background rounded-lg",children:[(0,i.jsx)("div",{className:"h-8 w-8 flex-shrink-0 bg-primary/10 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"font-semibold text-primary",children:"1"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-1",children:"Combine Scripts"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"The unlocking script (scriptSig) is concatenated with the locking script (scriptPubKey)."}),(0,i.jsx)("div",{className:"mt-2 p-2 bg-muted rounded text-xs font-mono",children:(0,i.jsx)("code",{children:"validation_script = scriptSig + scriptPubKey"})})]})]}),(0,i.jsxs)("div",{className:"flex gap-4 p-4 bg-background rounded-lg",children:[(0,i.jsx)("div",{className:"h-8 w-8 flex-shrink-0 bg-primary/10 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"font-semibold text-primary",children:"2"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-1",children:"Initialize Empty Stack"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"An empty stack is created."}),(0,i.jsx)("div",{className:"mt-2 p-2 bg-muted rounded text-xs font-mono",children:(0,i.jsx)("code",{children:"stack = []"})})]})]}),(0,i.jsxs)("div",{className:"flex gap-4 p-4 bg-background rounded-lg",children:[(0,i.jsx)("div",{className:"h-8 w-8 flex-shrink-0 bg-primary/10 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"font-semibold text-primary",children:"3"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-1",children:"Execute Script"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Executed left-to-right, each operation pushes data or manipulates the stack."}),(0,i.jsxs)("div",{className:"mt-2 p-2 bg-muted rounded text-xs text-muted-foreground",children:[(0,i.jsx)("p",{children:"Operations:"}),(0,i.jsxs)("ul",{className:"list-disc pl-4 mt-1",children:[(0,i.jsx)("li",{children:"Push data"}),(0,i.jsx)("li",{children:"Pop values, operate, push result"}),(0,i.jsx)("li",{children:"Modify stack elements"}),(0,i.jsx)("li",{children:"Conditional evaluation"})]})]})]})]}),(0,i.jsxs)("div",{className:"flex gap-4 p-4 bg-background rounded-lg",children:[(0,i.jsx)("div",{className:"h-8 w-8 flex-shrink-0 bg-primary/10 rounded-full flex items-center justify-center",children:(0,i.jsx)("span",{className:"font-semibold text-primary",children:"4"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-1",children:"Check Final State"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Execution must complete without errors and leave a single TRUE value (non-zero) on the stack."}),(0,i.jsxs)("div",{className:"mt-2 p-2 bg-muted rounded text-xs font-mono flex gap-4",children:[(0,i.jsxs)("div",{className:"text-green-600",children:[(0,i.jsx)(o.A,{className:"inline h-4 w-4 mr-1"})," Success: Stack = [TRUE]"]}),(0,i.jsxs)("div",{className:"text-red-600",children:[(0,i.jsx)(m.A,{className:"inline h-4 w-4 mr-1"})," Failure: Stack != [TRUE] or Error"]})]})]})]})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Standard Script Types"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("div",{className:"prose dark:prose-invert max-w-none mb-4",children:(0,i.jsx)("p",{children:"While Script allows complex conditions, most Bitcoin transactions use a few standard templates for efficiency and compatibility:"})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,i.jsx)(d.A,{className:"h-5 w-5 text-primary mr-2"}),"P2PKH (Pay-to-Public-Key-Hash)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"The most common type. Locks coins to the hash of a public key."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Locking Script (scriptPubKey):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"OP_DUP OP_HASH160 <PublicKeyHash> OP_EQUALVERIFY OP_CHECKSIG"})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Unlocking Script (scriptSig):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"<Signature> <PublicKey>"})]}),(0,i.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Requires a valid signature from the public key that hashes to the specified hash."})]})]}),(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,i.jsx)(p.A,{className:"h-5 w-5 text-primary mr-2"}),"P2SH (Pay-to-Script-Hash)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Locks coins to the hash of another script (redeemScript)."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Locking Script (scriptPubKey):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"OP_HASH160 <ScriptHash> OP_EQUAL"})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Unlocking Script (scriptSig):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"...arguments... <redeemScript>"})]}),(0,i.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Allows complex scripts (e.g., multisig) without burdening the UTXO set. The redeemScript itself is revealed and executed during spending."})]})]}),(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,i.jsx)(x.A,{className:"h-5 w-5 text-primary mr-2"}),"P2WPKH (Pay-to-Witness-Public-Key-Hash)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"SegWit version of P2PKH. Uses witness data."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Locking Script (scriptPubKey):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"0 <PublicKeyHash (20 bytes)>"})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Witness Data:"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"<Signature> <PublicKey>"})]}),(0,i.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Moves signature data to the witness field, reducing transaction size and fixing malleability."})]})]}),(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,i.jsx)(p.A,{className:"h-5 w-5 text-primary mr-2"})," ",(0,i.jsx)(x.A,{className:"h-5 w-5 text-primary ml-1"}),"P2WSH (Pay-to-Witness-Script-Hash)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"SegWit version of P2SH."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Locking Script (scriptPubKey):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"0 <ScriptHash (32 bytes)>"})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Witness Data:"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"...arguments... <witnessScript>"})]}),(0,i.jsx)("p",{className:"mt-2 text-muted-foreground",children:"SegWit equivalent for complex scripts, offering size and malleability benefits."})]})]}),(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,i.jsx)(h.A,{className:"h-5 w-5 text-primary mr-2"}),"P2TR (Pay-to-Taproot)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Introduced with Taproot upgrade (BIP 341)."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Locking Script (scriptPubKey):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"1 <OutputKey (32 bytes)>"})]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Spending Path (Key or Script):"}),(0,i.jsx)("br",{})," Key path or Script path spending using witness data."]}),(0,i.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Enhances privacy and efficiency. Allows spending via a key path (looks like P2PKH) or complex script paths (revealed only if used)."})]})]}),(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,i.jsx)(u.A,{className:"h-5 w-5 text-primary mr-2"}),"OP_RETURN"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Creates provably unspendable outputs used for embedding data."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Locking Script (scriptPubKey):"}),(0,i.jsx)("br",{}),(0,i.jsx)("code",{className:"bg-muted p-1 rounded",children:"OP_RETURN <Data (up to 80 bytes)>"})]}),(0,i.jsx)("p",{className:"mt-2 text-muted-foreground",children:"Allows small amounts of arbitrary data to be stored on the blockchain without polluting the UTXO set."})]})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Script Evolution: SegWit and Taproot"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("div",{className:"prose dark:prose-invert max-w-none mb-4",children:(0,i.jsx)("p",{children:"Bitcoin Script has evolved through soft forks like Segregated Witness (SegWit) and Taproot, enhancing efficiency, privacy, and capabilities."})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"bg-muted p-6 rounded-lg",children:[(0,i.jsxs)("h3",{className:"font-medium mb-3 flex items-center",children:[(0,i.jsx)(x.A,{className:"h-5 w-5 text-primary mr-2"}),"Segregated Witness (SegWit)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Introduced P2WPKH and P2WSH, moving signature data (witness) outside the main transaction block."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("div",{className:"p-2 bg-background rounded",children:[(0,i.jsx)("span",{className:"font-medium text-green-600",children:"+"})," Lower transaction fees (witness data discounted)"]}),(0,i.jsxs)("div",{className:"p-2 bg-background rounded",children:[(0,i.jsx)("span",{className:"font-medium text-green-600",children:"+"})," Fixes transaction malleability"]}),(0,i.jsxs)("div",{className:"p-2 bg-background rounded",children:[(0,i.jsx)("span",{className:"font-medium text-green-600",children:"+"})," Enables Layer 2 solutions (e.g., Lightning Network)"]})]})]}),(0,i.jsxs)("div",{className:"bg-muted p-6 rounded-lg",children:[(0,i.jsxs)("h3",{className:"font-medium mb-3 flex items-center",children:[(0,i.jsx)(h.A,{className:"h-5 w-5 text-primary mr-2"}),"Taproot (BIP 341, 342)"]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Introduced P2TR, Schnorr signatures, and TapScript, further improving privacy and script capabilities."}),(0,i.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,i.jsxs)("div",{className:"p-2 bg-background rounded",children:[(0,i.jsx)("span",{className:"font-medium text-green-600",children:"+"})," Enhanced Privacy (complex scripts look like simple payments)"]}),(0,i.jsxs)("div",{className:"p-2 bg-background rounded",children:[(0,i.jsx)("span",{className:"font-medium text-green-600",children:"+"})," Increased Script Efficiency (batch validation)"]}),(0,i.jsxs)("div",{className:"p-2 bg-background rounded",children:[(0,i.jsx)("span",{className:"font-medium text-green-600",children:"+"})," More Flexible Scripting (TapScript improvements over legacy Script)"]})]})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Script Capabilities and Limitations"}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("div",{className:"prose dark:prose-invert max-w-none",children:(0,i.jsx)("p",{children:"Bitcoin Script includes a broad set of operations but is intentionally limited for security and determinism."})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"bg-muted p-5 rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-4 flex items-center",children:[(0,i.jsx)(g.A,{className:"h-5 w-5 text-primary mr-2"})," Stack Operations"]}),(0,i.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-xs text-muted-foreground",children:(0,i.jsx)("li",{children:"OP_DUP, OP_SWAP, OP_DROP..."})})]}),(0,i.jsxs)("div",{className:"bg-muted p-5 rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-4 flex items-center",children:[(0,i.jsx)(j.A,{className:"h-5 w-5 text-primary mr-2"})," Arithmetic & Logic"]}),(0,i.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-xs text-muted-foreground",children:(0,i.jsx)("li",{children:"OP_ADD, OP_EQUAL, OP_BOOLAND..."})})]}),(0,i.jsxs)("div",{className:"bg-muted p-5 rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-4 flex items-center",children:[(0,i.jsx)(b.A,{className:"h-5 w-5 text-primary mr-2"})," Cryptographic"]}),(0,i.jsx)("ul",{className:"list-disc pl-5 space-y-1 text-xs text-muted-foreground",children:(0,i.jsx)("li",{children:"OP_SHA256, OP_CHECKSIG, OP_CLTV..."})})]})]}),(0,i.jsxs)("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-5 rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,i.jsx)(f.A,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mr-2"})," Deliberate Limitations"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-muted-foreground",children:[(0,i.jsxs)("div",{className:"p-3 bg-background rounded-lg",children:[(0,i.jsx)("p",{className:"font-medium mb-1",children:"No Loops:"}),(0,i.jsx)("p",{className:"text-xs",children:"Ensures termination, prevents DoS."})]}),(0,i.jsxs)("div",{className:"p-3 bg-background rounded-lg",children:[(0,i.jsx)("p",{className:"font-medium mb-1",children:"No State:"}),(0,i.jsx)("p",{className:"text-xs",children:"Self-contained, deterministic execution."})]}),(0,i.jsxs)("div",{className:"p-3 bg-background rounded-lg",children:[(0,i.jsx)("p",{className:"font-medium mb-1",children:"No Blockchain Access:"}),(0,i.jsx)("p",{className:"text-xs",children:"Validation independent of chain state."})]}),(0,i.jsxs)("div",{className:"p-3 bg-background rounded-lg",children:[(0,i.jsx)("p",{className:"font-medium mb-1",children:"Disabled Opcodes:"}),(0,i.jsx)("p",{className:"text-xs",children:"Precaution against potential exploits (e.g., OP_CAT)."})]})]})]}),(0,i.jsxs)("div",{className:"bg-primary/5 p-6 rounded-lg",children:[(0,i.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Script Debugging and Analysis"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:"Understanding script execution is crucial:"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"p-4 bg-background rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,i.jsx)(y,{className:"h-4 w-4 text-primary mr-2"})," Script Tracing"]}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"Step-by-step execution showing stack changes:"}),(0,i.jsx)("div",{className:"p-2 bg-muted/50 rounded text-xs font-mono",children:(0,i.jsx)("pre",{children:"OP_3: [3]\nOP_DUP: [3, 3]\nOP_ADD: [6]"})})]}),(0,i.jsxs)("div",{className:"p-4 bg-background rounded-lg",children:[(0,i.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,i.jsx)(N.A,{className:"h-4 w-4 text-primary mr-2"})," Testing Resources"]}),(0,i.jsxs)("ul",{className:"list-disc pl-5 space-y-1.5 text-xs text-muted-foreground",children:[(0,i.jsx)("li",{children:"Bitcoin Core tests"}),(0,i.jsx)("li",{children:"Online debuggers"}),(0,i.jsx)("li",{children:"btcdeb"})]})]})]}),(0,i.jsxs)("div",{className:"p-4 bg-background rounded-lg",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Best Practices"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 text-xs text-muted-foreground",children:[(0,i.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,i.jsx)("p",{className:"font-medium",children:"Start Simple"}),(0,i.jsx)("p",{children:"Build complexity gradually"})]}),(0,i.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,i.jsx)("p",{className:"font-medium",children:"Test Thoroughly"}),(0,i.jsx)("p",{children:"Use testnet extensively"})]}),(0,i.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,i.jsx)("p",{className:"font-medium",children:"Consider Edge Cases"}),(0,i.jsx)("p",{children:"Verify all execution paths"})]})]})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h4",{className:"text-md font-medium mb-3 flex items-center",children:[(0,i.jsx)(u.A,{className:"h-5 w-5 text-primary mr-2"})," Script Reference"]}),(0,i.jsxs)("a",{href:"https://en.bitcoin.it/wiki/Script",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1.5 text-sm",children:[(0,i.jsx)("p",{children:"Bitcoin Wiki: Script"}),(0,i.jsx)(v.A,{className:"h-3 w-3"})]})]}),(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h4",{className:"text-md font-medium mb-3 flex items-center",children:[(0,i.jsx)(j.A,{className:"h-5 w-5 text-primary mr-2"})," Script Debugger"]}),(0,i.jsxs)("a",{href:"https://github.com/kallewoof/btcdeb",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1.5 text-sm",children:[(0,i.jsx)("p",{children:"btcdeb"}),(0,i.jsx)(v.A,{className:"h-3 w-3"})]})]}),(0,i.jsxs)(c.Zp,{className:"p-5",children:[(0,i.jsxs)("h4",{className:"text-md font-medium mb-3 flex items-center",children:[(0,i.jsx)(y,{className:"h-5 w-5 text-primary mr-2"})," BIPs"]}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("a",{href:"https://github.com/bitcoin/bips/blob/master/bip-0016.mediawiki",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1.5 text-xs",children:[(0,i.jsx)("p",{children:"BIP 16: P2SH"}),(0,i.jsx)(v.A,{className:"h-3 w-3"})]}),(0,i.jsxs)("a",{href:"https://github.com/bitcoin/bips/blob/master/bip-0065.mediawiki",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1.5 text-xs",children:[(0,i.jsx)("p",{children:"BIP 65: CLTV"}),(0,i.jsx)(v.A,{className:"h-3 w-3"})]}),(0,i.jsxs)("a",{href:"https://github.com/bitcoin/bips/blob/master/bip-0112.mediawiki",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1.5 text-xs",children:[(0,i.jsx)("p",{children:"BIP 112: CSV"}),(0,i.jsx)(v.A,{className:"h-3 w-3"})]}),(0,i.jsxs)("a",{href:"https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1.5 text-xs",children:[(0,i.jsx)("p",{children:"BIP 141: SegWit"}),(0,i.jsx)(v.A,{className:"h-3 w-3"})]}),(0,i.jsxs)("a",{href:"https://github.com/bitcoin/bips/blob/master/bip-0341.mediawiki",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1.5 text-xs",children:[(0,i.jsx)("p",{children:"BIP 341: Taproot"}),(0,i.jsx)(v.A,{className:"h-3 w-3"})]})]})]})]})]})]}),(0,i.jsx)("div",{className:"mt-6 border-t border-border/40 pt-4",children:(0,i.jsx)(w.A,{moduleId:S,verificationId:A,label:"I understand Bitcoin's Script language, its execution model, and how it enables programmable spending conditions"})})]})})})})}},67031:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var i=t(95155);t(12115);var a=t(43970);let r=e=>{let{quote:s,date:t,source:r,sourceUrl:n,children:c}=e;return(0,i.jsxs)("div",{className:"bg-muted/30 border border-border p-6 rounded-lg my-6 relative",children:[(0,i.jsx)("div",{className:"absolute -left-2 -top-2 bg-bitcoin-orange text-white p-1 rounded-full",children:(0,i.jsx)(a.A,{className:"h-4 w-4"})}),(0,i.jsxs)("p",{className:"italic text-lg text-foreground/90 leading-relaxed",children:['"',s,'"']}),(0,i.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[r&&(0,i.jsx)("span",{className:"font-medium",children:n?(0,i.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-bitcoin-orange hover:underline",children:r}):r}),t&&(0,i.jsxs)("span",{children:["— ",t]})]}),c&&(0,i.jsx)("div",{className:"mt-4",children:c})]})}},76356:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]])},78126:(e,s)=>{"use strict";function t(){return null}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return t}}),("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},78208:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var i=t(95155),a=t(12115),r=t(93156),n=t(35695),c=t(5196);let d=e=>{let{moduleId:s,verificationId:t,sectionId:d,label:l="I understand what Bitcoin is and its revolutionary properties"}=e,{updateSectionProgress:o,getSectionProgress:m,markSectionComplete:p}=(0,r.v)(),x=(0,n.usePathname)().includes("/lightning")?"lightning":"bitcoin",h=s.includes("-")?s:"".concat(x,"-").concat(s),u=d||t,[g,j]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{j(m(x,h,u)>=100)},[h,t,u,x]),(0,i.jsx)("div",{className:"mt-4 mb-8",children:(0,i.jsxs)("button",{onClick:()=>{let e=!g;j(e),e&&(o(x,h,u,t),p(x,h,u))},className:"flex items-center focus:outline-none",children:[(0,i.jsx)("div",{className:"\n          w-5 h-5 rounded-sm flex items-center justify-center mr-3\n          ".concat(g?"bg-emerald-500":"border border-muted-foreground","\n        "),children:g&&(0,i.jsx)(c.A,{className:"h-4 w-4 text-white"})}),(0,i.jsx)("span",{className:"text-sm",children:l})]})})}},90232:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},92138:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},94202:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("git-compare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]])},94498:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});let i=(0,t(19946).A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[1778,4055,9051,3156,6400,8441,1684,7358],()=>s(41345)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2562],{5196:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},14186:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},35169:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},40081:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},43453:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},55893:(e,s,t)=>{Promise.resolve().then(t.bind(t,95596))},67031:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var a=t(95155);t(12115);var r=t(43970);let i=e=>{let{quote:s,date:t,source:i,sourceUrl:n,children:l}=e;return(0,a.jsxs)("div",{className:"bg-muted/30 border border-border p-6 rounded-lg my-6 relative",children:[(0,a.jsx)("div",{className:"absolute -left-2 -top-2 bg-bitcoin-orange text-white p-1 rounded-full",children:(0,a.jsx)(r.A,{className:"h-4 w-4"})}),(0,a.jsxs)("p",{className:"italic text-lg text-foreground/90 leading-relaxed",children:['"',s,'"']}),(0,a.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[i&&(0,a.jsx)("span",{className:"font-medium",children:n?(0,a.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-bitcoin-orange hover:underline",children:i}):i}),t&&(0,a.jsxs)("span",{children:["— ",t]})]}),l&&(0,a.jsx)("div",{className:"mt-4",children:l})]})}},69803:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},70686:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},78208:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var a=t(95155),r=t(12115),i=t(93156),n=t(35695),l=t(5196);let c=e=>{let{moduleId:s,verificationId:t,sectionId:c,label:d="I understand what Bitcoin is and its revolutionary properties"}=e,{updateSectionProgress:o,getSectionProgress:h,markSectionComplete:m}=(0,i.v)(),p=(0,n.usePathname)().includes("/lightning")?"lightning":"bitcoin",u=s.includes("-")?s:"".concat(p,"-").concat(s),x=c||t,[g,b]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{b(h(p,u,x)>=100)},[u,t,x,p]),(0,a.jsx)("div",{className:"mt-4 mb-8",children:(0,a.jsxs)("button",{onClick:()=>{let e=!g;b(e),e&&(o(p,u,x,t),m(p,u,x))},className:"flex items-center focus:outline-none",children:[(0,a.jsx)("div",{className:"\n          w-5 h-5 rounded-sm flex items-center justify-center mr-3\n          ".concat(g?"bg-emerald-500":"border border-muted-foreground","\n        "),children:g&&(0,a.jsx)(l.A,{className:"h-4 w-4 text-white"})}),(0,a.jsx)("span",{className:"text-sm",children:d})]})})}},79377:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("book-copy",[["path",{d:"M2 16V4a2 2 0 0 1 2-2h11",key:"spzkk5"}],["path",{d:"M22 18H11a2 2 0 1 0 0 4h10.5a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5H11a2 2 0 0 0-2 2v12",key:"1wz07i"}],["path",{d:"M5 14H4a2 2 0 1 0 0 4h1",key:"16gqf9"}]])},92138:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},95596:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(95155),r=t(7068),i=t(25165),n=t(78208),l=t(67031),c=t(66695),d=t(79377),o=t(69803),h=t(14186),m=t(40081),p=t(75525),u=t(70686);let x="lightning-fundamentals",g="htlc";function b(){return(0,a.jsx)(r.F,{children:(0,a.jsx)(i.s,{moduleId:x,sectionId:g,children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(l.A,{quote:"The idea of using cryptographic puzzles and timelocks to facilitate conditional payments was always part of the roadmap for Bitcoin's scaling solutions.",source:"Attributed to Satoshi Nakamoto",date:"Early Bitcoin discussions"}),(0,a.jsxs)(c.Zp,{className:"p-6",children:[(0,a.jsx)("h4",{className:"font-medium mb-4 text-lg",children:"A Note from Satoshi"}),(0,a.jsxs)("div",{className:"p-5 bg-muted/50 rounded-lg border border-border text-sm text-muted-foreground italic leading-relaxed",children:[(0,a.jsx)("p",{children:"\"When I designed Bitcoin's scripting system, I intentionally included capabilities like hash functions and timelocks that would later enable complex conditional payments. These primitives were fundamental building blocks for future scaling solutions."}),(0,a.jsx)("p",{className:"mt-3",children:"Hash Time-Locked Contracts represent a brilliant application of these capabilities. They solve what was previously an unsolvable problem in digital currency: how to route a payment through untrusted intermediaries without any party being able to steal the funds. The combination of cryptographic hash locks with absolute timelocks creates a trustless mechanism for multi-hop payments."}),(0,a.jsx)("p",{className:"mt-3",children:"What's most elegant about HTLCs is their atomicity—the all-or-nothing property that ensures payments either complete fully or not at all. This design pattern ensures that Lightning Network payments maintain the same security guarantees as on-chain Bitcoin transactions, even while moving most transaction activity off-chain.\""})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:"HTLC Fundamentals"}),(0,a.jsxs)("div",{className:"mt-4 space-y-6",children:[(0,a.jsxs)(c.Zp,{className:"p-6",children:[(0,a.jsx)("h4",{className:"font-medium mb-4 text-lg",children:"What are HTLCs?"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:"Hash Time-Locked Contracts (HTLCs) are conditional payment agreements that form the backbone of Lightning Network routing. They use cryptographic primitives to secure payments across multiple untrusted nodes while preserving Bitcoin's trustless security model."}),(0,a.jsxs)("div",{className:"p-5 bg-background rounded-lg border border-border",children:[(0,a.jsxs)("h5",{className:"font-medium mb-4 flex items-center",children:[(0,a.jsx)(d.A,{className:"h-5 w-5 text-purple-600 mr-2"}),"Definition and Core Function"]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground space-y-4",children:[(0,a.jsx)("p",{children:"An HTLC is a type of smart contract that uses two key mechanisms to secure payments:"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("h6",{className:"font-medium",children:"Hash Lock"})]}),(0,a.jsx)("p",{className:"text-sm",children:"A cryptographic condition that can only be satisfied by revealing a preimage (secret value) that, when hashed, produces a specific hash digest. This creates a cryptographic puzzle that can only be solved by someone who knows the secret."}),(0,a.jsxs)("div",{className:"mt-3 p-2 bg-background rounded-md text-xs",children:[(0,a.jsx)("span",{className:"font-mono",children:"H = SHA-256(R)"})," where"," ",(0,a.jsx)("span",{className:"font-mono",children:"R"})," is the secret preimage"]})]}),(0,a.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("h6",{className:"font-medium",children:"Time Lock"})]}),(0,a.jsx)("p",{className:"text-sm",children:"A time-based condition that prevents funds from being spent until a specific time or block height is reached. This creates a safety mechanism that ensures funds aren't locked up indefinitely if a payment fails."}),(0,a.jsxs)("div",{className:"mt-3 p-2 bg-background rounded-md text-xs",children:[(0,a.jsx)("span",{className:"font-mono",children:"OP_CHECKLOCKTIMEVERIFY"})," in Bitcoin Script"]})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg mt-4",children:[(0,a.jsxs)("h6",{className:"font-medium mb-2 flex items-center",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-purple-600 dark:text-purple-400 mr-2"}),"Technical Insight"]}),(0,a.jsx)("p",{className:"text-sm",children:"HTLCs were first described in academic literature as a solution to multi-hop payments in payment channel networks. The concept was later refined in the Lightning Network whitepaper, becoming a core component of the protocol. What makes them revolutionary is how they combine existing Bitcoin script capabilities to create a new type of conditional payment with powerful security properties."})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"p-4 bg-background rounded-lg border border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("h5",{className:"font-medium",children:"Why HTLCs Matter"})]}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,a.jsx)("p",{children:"HTLCs solve several critical challenges in off-chain payment systems:"}),(0,a.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Multi-hop payments:"})," Enable routing through multiple channels without trusting intermediaries"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Safety guarantees:"})," Funds are either forwarded to recipients or returned to senders, with no possibility of loss"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Atomicity:"})," Payments either succeed completely or fail completely with no partial states"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Interoperability:"})," Can be implemented on any blockchain with basic scripting capabilities"]})]})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-background rounded-lg border border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("h5",{className:"font-medium",children:"Beyond Lightning"})]}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,a.jsx)("p",{children:"While HTLCs are core to Lightning, they're used in other applications:"}),(0,a.jsxs)("ul",{className:"list-disc pl-5 space-y-2",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Atomic Swaps:"})," Trustless cross-chain cryptocurrency exchanges"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Discreet Log Contracts:"})," Privacy-preserving smart contracts"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Submarine Swaps:"})," Converting on-chain to off-chain bitcoin and vice versa"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Payment Points:"})," An optimized version of HTLCs using point-based cryptography"]})]})]})]})]})]})]}),(0,a.jsxs)(c.Zp,{className:"p-6",children:[(0,a.jsx)("h4",{className:"font-medium mb-4 text-lg",children:"How HTLCs Work in Lightning"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"In Lightning, HTLCs create a conditional payment path across multiple channels. The process works through a clever mechanism that ensures all participants either forward the payment correctly or cannot claim any funds."}),(0,a.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,a.jsx)("h5",{className:"font-medium mb-4",children:"Basic HTLC Flow in a Multi-Hop Payment"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg border border-border/60 flex items-start gap-4",children:[(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-full p-2 text-purple-600 dark:text-purple-400 mt-1",children:(0,a.jsx)("span",{className:"font-medium text-sm",children:"1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-medium",children:"Setup Phase"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"The recipient generates a random secret (R) and computes its hash (H). This hash is shared with the sender, becoming the condition for payment."})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg border border-border/60 flex items-start gap-4",children:[(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-full p-2 text-purple-600 dark:text-purple-400 mt-1",children:(0,a.jsx)("span",{className:"font-medium text-sm",children:"2"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-medium",children:"HTLC Creation"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:'The sender creates an HTLC with the first hop in the route, saying "Here\'s some bitcoin you can claim if you show me the preimage of hash H, or I can take it back after time T." Each node along the route creates similar HTLCs with decreasing timelock values.'})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg border border-border/60 flex items-start gap-4",children:[(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-full p-2 text-purple-600 dark:text-purple-400 mt-1",children:(0,a.jsx)("span",{className:"font-medium text-sm",children:"3"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-medium",children:"Secret Revelation"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"When the HTLCs reach the recipient, they reveal the secret R to claim the payment from the last hop. This revelation propagates backward through the route as each node uses the secret to claim their payment."})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted/30 rounded-lg border border-border/60 flex items-start gap-4",children:[(0,a.jsx)("div",{className:"bg-purple-100 dark:bg-purple-900/30 rounded-full p-2 text-purple-600 dark:text-purple-400 mt-1",children:(0,a.jsx)("span",{className:"font-medium text-sm",children:"4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h6",{className:"font-medium",children:"Successful Settlement"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"The payment settles as each node updates their channel balances based on the now-fulfilled HTLCs. The entire route settles atomically—all hops succeed or none do."})]})]})]})]})]})]})]})]}),(0,a.jsx)("div",{className:"mt-6 border-t border-border/40 pt-4",children:(0,a.jsx)(n.A,{moduleId:x,sectionId:g,verificationId:"htlc-fundamentals",label:"I understand how Hash Time-Locked Contracts work in the Lightning Network"})})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[1778,4055,9051,3156,6400,8441,1684,7358],()=>s(55893)),_N_E=e.O()}]);
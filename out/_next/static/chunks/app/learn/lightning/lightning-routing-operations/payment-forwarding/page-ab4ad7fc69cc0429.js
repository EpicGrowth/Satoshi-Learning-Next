(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3584],{5196:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});let t=(0,n(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},35169:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});let t=(0,n(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},39830:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>p});var t=n(95155);n(12115);var a=n(7068),i=n(25165),r=n(78208),l=n(66695),d=n(50825);let c=(0,n(19946).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var o=n(71539);let m="lightning-routing-operations",h="payment-forwarding";function p(){return(0,t.jsx)(a.F,{children:(0,t.jsx)(i.s,{moduleId:m,sectionId:h,children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)(l.Zp,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Payment Forwarding in Lightning Network"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"prose dark:prose-invert max-w-none",children:[(0,t.jsx)("h3",{children:"How Payment Forwarding Works"}),(0,t.jsx)("p",{children:"Payment forwarding is a fundamental concept in the Lightning Network that enables the routing of payments across multiple hops. When a payment is routed through your node, you're acting as an intermediary, helping move funds from the sender to the recipient."}),(0,t.jsx)("p",{children:"Each routing node receives an incoming HTLC (Hashed Time-Locked Contract) and creates a corresponding outgoing HTLC. The node earns fees for this service, which incentivizes participation in the routing network."})]}),(0,t.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-6 rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-medium mb-4 flex items-center",children:[(0,t.jsx)(d.A,{className:"h-5 w-5 text-purple-600 mr-2"}),"HTLC Flow"]}),(0,t.jsxs)("ol",{className:"list-decimal pl-6 space-y-2 text-sm",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Incoming HTLC:"})," Your node receives a payment with a hash lock."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Outgoing HTLC:"})," You create an identical HTLC (minus your fee) to the next node."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Secret Revealed:"})," When payment reaches the recipient, they reveal the secret."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Backpropagation:"})," The secret propagates backwards, unlocking each HTLC."]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Settlement:"})," Funds move forward, and you collect your fee."]})]})]}),(0,t.jsx)("div",{className:"border-l-4 border-purple-500 pl-4 italic",children:"\"Payment forwarding is the lifeblood of the Lightning Network's routing system. Without it, we'd be limited to direct channels only.\""})]})]}),(0,t.jsxs)(l.Zp,{className:"p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[(0,t.jsx)(c,{className:"h-5 w-5 mr-2"}),"Optimizing Your Node for Forwarding"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"To maximize your node's forwarding potential and earn more in routing fees:"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Channel Selection"}),(0,t.jsxs)("ul",{className:"list-disc pl-4 text-sm text-muted-foreground space-y-1",children:[(0,t.jsx)("li",{children:"Open channels with well-connected nodes"}),(0,t.jsx)("li",{children:"Prioritize nodes that route significant payment volume"}),(0,t.jsx)("li",{children:"Maintain channels with diverse nodes across the network"}),(0,t.jsx)("li",{children:"Consider geographic diversity for resilience"})]})]}),(0,t.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Liquidity Management"}),(0,t.jsxs)("ul",{className:"list-disc pl-4 text-sm text-muted-foreground space-y-1",children:[(0,t.jsx)("li",{children:"Balance incoming and outgoing capacity"}),(0,t.jsx)("li",{children:"Regularly rebalance channels to maintain flow"}),(0,t.jsx)("li",{children:"Monitor channel usage patterns"}),(0,t.jsx)("li",{children:"Close underperforming channels"})]})]})]})]})]}),(0,t.jsxs)(l.Zp,{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Fee Strategies for Payment Forwarding"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-muted-foreground",children:"Setting appropriate fees is crucial for a successful routing node. The goal is to find the balance between competitive fees that attract payment flow and profitable fees that compensate for your node's service."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"border border-border p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Base Fee"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A flat fee charged per forwarded payment regardless of amount. Typically set between 1-10 satoshis. Good for covering fixed costs."})]}),(0,t.jsxs)("div",{className:"border border-border p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Fee Rate"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"A percentage fee charged on the payment amount. Expressed in parts per million (ppm). Common ranges are 100-1000 ppm (0.01% to 0.1%)."})]})]})]})]}),(0,t.jsxs)(l.Zp,{className:"p-6 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/20 dark:to-blue-900/20",children:[(0,t.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[(0,t.jsx)(o.A,{className:"h-5 w-5 text-yellow-500 mr-2"}),"Advanced Forwarding Techniques"]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Just-In-Time Routing"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Opening channels on demand to fulfill specific payment paths, maximizing capital efficiency for large payment routing."})]}),(0,t.jsxs)("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Fee Optimization Algorithms"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Using dynamic fee adjustment based on network congestion, payment size, and channel liquidity status."})]}),(0,t.jsxs)("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Multi-Path Payments (MPP)"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Routing larger payments by splitting them across multiple channels, increasing success rates and efficiency."})]})]})})]}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(r.A,{moduleId:m,sectionId:h,verificationId:"payment-forwarding-basics",label:"I understand how payment forwarding works in the Lightning Network"})})]})})})}},43453:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});let t=(0,n(19946).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},47255:(e,s,n)=>{Promise.resolve().then(n.bind(n,39830))},50825:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});let t=(0,n(19946).A)("shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]])},71539:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});let t=(0,n(19946).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},78208:(e,s,n)=>{"use strict";n.d(s,{A:()=>d});var t=n(95155),a=n(12115),i=n(93156),r=n(35695),l=n(5196);let d=e=>{let{moduleId:s,verificationId:n,sectionId:d,label:c="I understand what Bitcoin is and its revolutionary properties"}=e,{updateSectionProgress:o,getSectionProgress:m,markSectionComplete:h}=(0,i.v)(),p=(0,r.usePathname)().includes("/lightning")?"lightning":"bitcoin",g=s.includes("-")?s:"".concat(p,"-").concat(s),u=d||n,[x,f]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{f(m(p,g,u)>=100)},[g,n,u,p]),(0,t.jsx)("div",{className:"mt-4 mb-8",children:(0,t.jsxs)("button",{onClick:()=>{let e=!x;f(e),e&&(o(p,g,u,n),h(p,g,u))},className:"flex items-center focus:outline-none",children:[(0,t.jsx)("div",{className:"\n          w-5 h-5 rounded-sm flex items-center justify-center mr-3\n          ".concat(x?"bg-emerald-500":"border border-muted-foreground","\n        "),children:x&&(0,t.jsx)(l.A,{className:"h-4 w-4 text-white"})}),(0,t.jsx)("span",{className:"text-sm",children:c})]})})}},92138:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});let t=(0,n(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[1778,4055,9051,3156,6400,8441,1684,7358],()=>s(47255)),_N_E=e.O()}]);
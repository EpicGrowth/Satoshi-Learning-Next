(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7782],{381:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1243:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},5196:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},14186:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},19853:(e,s,t)=>{Promise.resolve().then(t.bind(t,96872))},32919:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},33786:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},35169:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},39785:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]])},40646:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43453:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},54416:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},61767:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("file-warning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},67031:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(95155);t(12115);var n=t(43970);let l=e=>{let{quote:s,date:t,source:l,sourceUrl:i,children:a}=e;return(0,r.jsxs)("div",{className:"bg-muted/30 border border-border p-6 rounded-lg my-6 relative",children:[(0,r.jsx)("div",{className:"absolute -left-2 -top-2 bg-bitcoin-orange text-white p-1 rounded-full",children:(0,r.jsx)(n.A,{className:"h-4 w-4"})}),(0,r.jsxs)("p",{className:"italic text-lg text-foreground/90 leading-relaxed",children:['"',s,'"']}),(0,r.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[l&&(0,r.jsx)("span",{className:"font-medium",children:i?(0,r.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-bitcoin-orange hover:underline",children:l}):l}),t&&(0,r.jsxs)("span",{children:["â€” ",t]})]}),a&&(0,r.jsx)("div",{className:"mt-4",children:a})]})}},71539:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},78208:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var r=t(95155),n=t(12115),l=t(93156),i=t(35695),a=t(5196);let c=e=>{let{moduleId:s,verificationId:t,sectionId:c,label:d="I understand what Bitcoin is and its revolutionary properties"}=e,{updateSectionProgress:o,getSectionProgress:h,markSectionComplete:m}=(0,l.v)(),x=(0,i.usePathname)().includes("/lightning")?"lightning":"bitcoin",u=s.includes("-")?s:"".concat(x,"-").concat(s),g=c||t,[p,b]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{b(h(x,u,g)>=100)},[u,t,g,x]),(0,r.jsx)("div",{className:"mt-4 mb-8",children:(0,r.jsxs)("button",{onClick:()=>{let e=!p;b(e),e&&(o(x,u,g,t),m(x,u,g))},className:"flex items-center focus:outline-none",children:[(0,r.jsx)("div",{className:"\n          w-5 h-5 rounded-sm flex items-center justify-center mr-3\n          ".concat(p?"bg-emerald-500":"border border-muted-foreground","\n        "),children:p&&(0,r.jsx)(a.A,{className:"h-4 w-4 text-white"})}),(0,r.jsx)("span",{className:"text-sm",children:d})]})})}},92138:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},93306:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(19946).A)("hand-coins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]])},96872:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var r=t(95155);t(12115);var n=t(7068),l=t(25165),i=t(78208),a=t(54416),c=t(43970),d=t(40646),o=t(1243),h=t(61767),m=t(14186),x=t(32919),u=t(75525),g=t(381),p=t(71539),b=t(33786),f=t(39785),j=t(93306),y=t(67031);let N="lightning-channel-management",v="closing-channels";function k(){return(0,r.jsx)(n.F,{children:(0,r.jsxs)(l.s,{moduleId:N,sectionId:v,children:[(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(y.A,{quote:"In the Bitcoin system, every transaction is final and permanently recorded on-chain. With Lightning channels, we introduced a different paradigm: a payment relationship that could begin, evolve, and eventually end.",source:"Lightning Network Design Document",date:"2015"}),(0,r.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)(a.A,{className:"h-6 w-6 mr-2 text-primary"}),"Closing Lightning Channels"]}),(0,r.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:"Closing a Lightning channel is a critical operation that converts your off-chain balance back to an on-chain Bitcoin transaction. The technical implementation involves complex cryptographic mechanisms, timelock logic, and careful handling of commitment transactions to ensure funds are properly returned to their owners."})]}),(0,r.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)(c.A,{className:"h-5 w-5 mr-2 text-primary"}),"The Settlement Transaction"]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"At its core, closing a Lightning channel creates a settlement transaction that finalizes the channel relationship and returns funds to their respective owners."}),(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsx)("h4",{className:"font-medium mb-3",children:"Settlement Fundamentals"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-2",children:[(0,r.jsx)("li",{children:"Distributes the channel balance according to the most recent channel state"}),(0,r.jsx)("li",{children:"Terminates the multisignature contract between the two peers"}),(0,r.jsx)("li",{children:"Converts the Lightning channel back to standard Bitcoin UTXOs"}),(0,r.jsx)("li",{children:"Creates public, immutable record of the final channel state"}),(0,r.jsx)("li",{children:"Pays mining fees to secure the transaction on the Bitcoin blockchain"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2 text-green-500"}),"Cooperative Close"]}),(0,r.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"A cooperative (mutual) close occurs when both channel parties agree to close the channel. This is the ideal scenario that produces the most efficient and cost-effective settlement."}),(0,r.jsxs)("ul",{className:"list-disc pl-4 text-sm text-muted-foreground space-y-2",children:[(0,r.jsx)("li",{children:"Both parties sign a closing transaction"}),(0,r.jsx)("li",{children:"Uses a mutually agreed fee rate"}),(0,r.jsx)("li",{children:"Outputs immediately spendable"}),(0,r.jsx)("li",{children:"No CSV (CheckSequenceVerify) timelock delays"}),(0,r.jsx)("li",{children:"Most capital-efficient closure method"})]})]})]}),(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2 text-amber-500"}),"Force Close"]}),(0,r.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"A force close (unilateral close) occurs when one channel partner broadcasts their latest commitment transaction without coordination. This is a fallback mechanism designed to protect funds when cooperation isn't possible."}),(0,r.jsxs)("ul",{className:"list-disc pl-4 text-sm text-muted-foreground space-y-2",children:[(0,r.jsx)("li",{children:"Only requires one party's signature"}),(0,r.jsx)("li",{children:"Uses commitment transaction with pre-signed outputs"}),(0,r.jsx)("li",{children:"Initiator's funds subject to timelock delay (CSV)"}),(0,r.jsx)("li",{children:"Higher on-chain fees due to complexity"}),(0,r.jsx)("li",{children:"Triggers HTLC timeout/success transactions for in-flight payments"})]})]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)(h.A,{className:"h-5 w-5 mr-2 text-primary"}),"Channel States During Closure"]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"A channel progresses through several states during the closing process, with different implications for fund availability and security."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(a.A,{className:"h-4 w-4 text-red-500 mr-2"}),"Closing"]}),(0,r.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Initial state when a close is initiated but not yet confirmed on-chain."}),(0,r.jsxs)("ul",{className:"list-disc pl-4 text-xs text-muted-foreground space-y-1",children:[(0,r.jsx)("li",{children:"Channel is no longer usable for payments"}),(0,r.jsx)("li",{children:"Closing transaction is broadcast to the network"}),(0,r.jsx)("li",{children:"Awaiting confirmation in a Bitcoin block"}),(0,r.jsx)("li",{children:'Node shows channel in "closing" state'})]})]})]}),(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 text-amber-500 mr-2"}),"Force Closing"]}),(0,r.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Unilateral close initiated, awaiting confirmation and timelocks."}),(0,r.jsxs)("ul",{className:"list-disc pl-4 text-xs text-muted-foreground space-y-1",children:[(0,r.jsx)("li",{children:"Commitment transaction published on-chain"}),(0,r.jsx)("li",{children:"HTLC transactions may be broadcast separately"}),(0,r.jsx)("li",{children:"Other party may broadcast a penalty transaction if breach detected"}),(0,r.jsx)("li",{children:"Higher transaction fees than cooperative closure"})]})]})]}),(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(x.A,{className:"h-4 w-4 text-blue-500 mr-2"}),"Waiting for Timelock"]}),(0,r.jsxs)("div",{className:"p-4 bg-muted/30 rounded-lg",children:[(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"On-chain transaction confirmed but funds still locked by CSV timelock."}),(0,r.jsxs)("ul",{className:"list-disc pl-4 text-xs text-muted-foreground space-y-1",children:[(0,r.jsx)("li",{children:"Typically 144 blocks (~1 day) for force-closing party"}),(0,r.jsx)("li",{children:"Counter-party funds usually available immediately"}),(0,r.jsx)("li",{children:"HTLC outputs may have longer timelocks"}),(0,r.jsx)("li",{children:"Funds become spendable automatically after timelock expires"})]})]})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[(0,r.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,r.jsx)(u.A,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mr-2"}),"Security Considerations"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"The timelock mechanism is a critical security feature:"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-1",children:[(0,r.jsx)("li",{children:"Provides a window for penalties if an old state is broadcast"}),(0,r.jsx)("li",{children:"Prevents both parties from spending the same funds (double-spending)"}),(0,r.jsx)("li",{children:"Ensures orderly resolution of in-flight payments (HTLCs)"}),(0,r.jsx)("li",{children:"Allows time for watchtowers to detect and respond to breach attempts"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 mr-2 text-primary"}),"Implementation-Specific Closure Commands"]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Different Lightning implementations have their own command syntax for closing channels, though the underlying technical concepts remain consistent."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-2 text-amber-500"}),"LND"]}),(0,r.jsx)("div",{className:"p-4 bg-muted/30 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs overflow-x-auto font-mono text-muted-foreground",children:"# List channels to find channel point lncli listchannels # Cooperative close (default) lncli closechannel [CHANNEL_POINT] # Force close with custom fee lncli closechannel --force --sat_per_byte=25 [CHANNEL_POINT] # Check pending closes lncli pendingchannels"})})]}),(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-2 text-purple-500"}),"Core Lightning (c-lightning)"]}),(0,r.jsx)("div",{className:"p-4 bg-muted/30 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs overflow-x-auto font-mono text-muted-foreground",children:"# List channels to find ID lightning-cli listfunds # Cooperative close lightning-cli close id=<channel_id> # Force close lightning-cli close id=<channel_id> unilateraltimeout=1 # Close with specific fee rate lightning-cli close id=<channel_id> fee_negotiation_step=10000"})})]}),(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsxs)("h4",{className:"font-medium mb-3 flex items-center",children:[(0,r.jsx)(f.A,{className:"h-4 w-4 mr-2 text-blue-500"}),"Eclair"]}),(0,r.jsx)("div",{className:"p-4 bg-muted/30 rounded-lg",children:(0,r.jsx)("pre",{className:"text-xs overflow-x-auto font-mono text-muted-foreground",children:"# List channels eclair-cli channels # Cooperative close eclair-cli close --channelId=<channel_id> # Force close eclair-cli forceclose --channelId=<channel_id> # Check pending closes eclair-cli channelsinfo"})})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,r.jsx)(j.A,{className:"h-5 w-5 mr-2 text-primary"}),"When to Close Channels"]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("p",{className:"text-muted-foreground",children:"Knowing when to close a Lightning channel is an important part of effective channel management strategy."}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsx)("h4",{className:"font-medium mb-3",children:"Reasons for Cooperative Close"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Inactivity:"})," Channel hasn't been used for an extended period"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Reallocation:"})," Need to reallocate capital to more productive channels"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Persistent Imbalance:"})," Channel remains imbalanced despite rebalancing attempts"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Node Retirement:"})," Peer is shutting down their node"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Upgrade Necessity:"})," Need to upgrade to new channel features (e.g., anchor outputs)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Fee Policy Mismatch:"})," Peer's fee policy no longer aligns with your strategy"]})]})]}),(0,r.jsxs)("div",{className:"bg-background p-5 rounded-lg border border-border",children:[(0,r.jsx)("h4",{className:"font-medium mb-3",children:"Reasons for Force Close"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-2",children:[(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Unresponsive Peer:"})," Peer node has been offline for extended period"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Security Concerns:"})," Suspicion of malicious behavior by peer"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Stuck HTLC:"})," In-flight payment stuck that needs to be resolved on-chain"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Emergency Recovery:"})," Need to recover funds quickly during node recovery"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Protocol Violation:"})," Peer is not following Lightning protocol correctly"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:"Data Loss:"})," Channel recovery after partial data loss (SCB recovery)"]})]})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,r.jsx)("h5",{className:"font-medium mb-2",children:"Channel Closing Best Practices"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-1",children:[(0,r.jsx)("li",{children:"Always attempt cooperative closes first before resorting to force closing"}),(0,r.jsx)("li",{children:"Consider on-chain fee conditions when timing your closes"}),(0,r.jsx)("li",{children:"Close channels in batches when possible to save on fees"}),(0,r.jsx)("li",{children:"Ensure your node remains online throughout the cooperative closing process"}),(0,r.jsx)("li",{children:"Document channel closures for future reference and analysis"}),(0,r.jsx)("li",{children:"Never force close a channel unless absolutely necessary"}),(0,r.jsx)("li",{children:"Be patient with timelock periods after force closes"})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[(0,r.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 text-amber-600 dark:text-amber-400 mr-2"}),"Common Closing Pitfalls"]}),(0,r.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-1",children:[(0,r.jsx)("li",{children:"Using force close unnecessarily, incurring higher fees and timelocks"}),(0,r.jsx)("li",{children:"Closing during periods of high on-chain fees"}),(0,r.jsx)("li",{children:"Forgetting about timelocked funds after force closing"}),(0,r.jsx)("li",{children:"Not having enough on-chain funds to cover closing transaction fees"}),(0,r.jsx)("li",{children:"Closing productive channels due to temporary inactivity"}),(0,r.jsx)("li",{children:"Failing to verify closing transaction confirmation on the blockchain"})]})]})]})]})]}),(0,r.jsx)(i.A,{moduleId:N,sectionId:v,verificationId:"".concat(v,"-complete"),label:"I understand the different channel closing mechanisms and when to use each approach."})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[1778,4055,9051,3156,6400,8441,1684,7358],()=>s(19853)),_N_E=e.O()}]);
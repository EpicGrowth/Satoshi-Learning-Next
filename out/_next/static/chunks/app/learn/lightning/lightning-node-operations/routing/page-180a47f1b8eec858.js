(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7286],{381:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5196:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5505:(e,t,r)=>{Promise.resolve().then(r.bind(r,62684))},32919:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},35169:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},39153:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]])},40081:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]])},43453:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},47924:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},62684:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(95155);r(12115);var a=r(7068),n=r(25165),i=r(78208),l=r(39153),d=r(19302),c=r(19946);let o=(0,c.A)("circuit-board",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3",key:"1ve2rv"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4",key:"1fwkro"}],["circle",{cx:"15",cy:"15",r:"2",key:"3i40o0"}]]),m=(0,c.A)("settings-2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var h=r(81284),u=r(40081),x=r(47924),g=r(93550),p=r(32919),f=r(76356),y=r(33109),b=r(71539),j=r(381),k=r(70686),N=r(63578);let v=(0,c.A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var w=r(67031);let A="lightning-node-operations",M="routing";function C(){return(0,s.jsx)(a.F,{children:(0,s.jsxs)(n.s,{moduleId:A,sectionId:M,children:[(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(w.A,{quote:"The result is a distributed timestamped server which provides proof for financial records without exposing information beyond what is necessary.",source:"Satoshi Nakamoto, Bitcoin Whitepaper (adapted context)",date:"October 31, 2008"}),(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,s.jsxs)("h2",{className:"text-2xl font-semibold mb-4 flex items-center",children:[(0,s.jsx)(l.A,{className:"h-6 w-6 mr-2 text-primary"}),"Lightning Routing & Forwarding"]}),(0,s.jsx)("p",{className:"text-muted-foreground leading-relaxed",children:"Routing is the process of finding a path across the Lightning Network to send a payment between two nodes that don't have a direct channel. Nodes that participate in relaying these payments are called routing nodes, and they earn small fees for providing this service."})]}),(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,s.jsx)(d.A,{className:"h-5 w-5 mr-2 text-primary"}),"Routing Fundamentals"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Understanding how routing works is essential for both sending payments efficiently and operating a successful routing node."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(o,{className:"h-4 w-4 mr-2 text-blue-500"}),"Key Concepts"]}),(0,s.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-1",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Network Graph:"})," Nodes maintain a map of public channels and their policies (fees, capacity, etc.)."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Source Routing:"})," The *sender's* node calculates the entire path before sending the payment."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Onion Routing:"})," Payment instructions are encrypted layer-by-layer, so each hop only knows the previous and next node, enhancing privacy."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"HTLCs:"})," Payments along the route are secured by Hashed Time-Locked Contracts, ensuring atomicity (either the whole payment succeeds or fails)."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Liquidity:"})," A route is only viable if every channel along the path has sufficient balance in the correct direction."]})]})]}),(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(m,{className:"h-4 w-4 mr-2 text-purple-500"}),"Routing Fees"]}),(0,s.jsxs)("ul",{className:"list-disc pl-5 text-sm text-muted-foreground space-y-1",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Base Fee:"})," A flat fee charged per forwarded payment (HTLC), regardless of amount."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Fee Rate:"})," A proportional fee based on the payment amount (usually measured in ppm - parts per million)."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Node Policy:"})," Each node sets its own fee policy for its channels."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Market Dynamics:"})," Fees are influenced by supply (available liquidity) and demand (payment volume)."]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"Sender Pays:"})," The total fee for the route is included in the amount the sender initially sends."]})]})]})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(h.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"}),"Pathfinding Challenge"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Finding the optimal route involves balancing low fees, sufficient capacity, node reliability (uptime), and path length. This is a complex calculation performed by the sender's node using its view of the network graph."})]})]})]}),(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,s.jsx)(u.A,{className:"h-5 w-5 mr-2 text-primary"}),"The Routing Process Step-by-Step"]}),(0,s.jsxs)("ol",{className:"relative border-l border-border dark:border-gray-700 ml-4 space-y-6",children:[(0,s.jsxs)("li",{className:"ml-6",children:[(0,s.jsx)("span",{className:"absolute flex items-center justify-center w-6 h-6 bg-primary/20 rounded-full -left-3 ring-4 ring-background dark:ring-gray-900 dark:bg-blue-900",children:(0,s.jsx)(x.A,{className:"w-3 h-3 text-primary dark:text-blue-300"})}),(0,s.jsx)("h4",{className:"font-medium",children:"1. Pathfinding"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sender's node queries its network graph data to find potential paths to the recipient, considering fees, capacity, and hop count."})]}),(0,s.jsxs)("li",{className:"ml-6",children:[(0,s.jsx)("span",{className:"absolute flex items-center justify-center w-6 h-6 bg-primary/20 rounded-full -left-3 ring-4 ring-background dark:ring-gray-900 dark:bg-green-900",children:(0,s.jsx)(l.A,{className:"w-3 h-3 text-primary dark:text-green-300"})}),(0,s.jsx)("h4",{className:"font-medium",children:"2. Onion Construction"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sender creates the layered 'onion' packet containing encrypted instructions for each hop (next peer, amount to forward, CLTV delta)."})]}),(0,s.jsxs)("li",{className:"ml-6",children:[(0,s.jsx)("span",{className:"absolute flex items-center justify-center w-6 h-6 bg-primary/20 rounded-full -left-3 ring-4 ring-background dark:ring-gray-900 dark:bg-yellow-900",children:(0,s.jsx)(g.A,{className:"w-3 h-3 text-primary dark:text-yellow-300"})}),(0,s.jsx)("h4",{className:"font-medium",children:"3. HTLC Forwarding"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sender adds an HTLC to the first channel. Each intermediate node receives the onion, decrypts its layer, learns the next hop, updates the HTLC (lowers amount by its fee, reduces CLTV), and forwards to the next peer."})]}),(0,s.jsxs)("li",{className:"ml-6",children:[(0,s.jsx)("span",{className:"absolute flex items-center justify-center w-6 h-6 bg-primary/20 rounded-full -left-3 ring-4 ring-background dark:ring-gray-900 dark:bg-purple-900",children:(0,s.jsx)(p.A,{className:"w-3 h-3 text-primary dark:text-purple-300"})}),(0,s.jsx)("h4",{className:"font-medium",children:"4. Preimage Release"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Recipient receives the final HTLC. To claim the funds, they reveal the payment preimage (secret) to the last intermediate node."})]}),(0,s.jsxs)("li",{className:"ml-6",children:[(0,s.jsx)("span",{className:"absolute flex items-center justify-center w-6 h-6 bg-primary/20 rounded-full -left-3 ring-4 ring-background dark:ring-gray-900 dark:bg-red-900",children:(0,s.jsx)(f.A,{className:"w-3 h-3 text-primary dark:text-red-300"})}),(0,s.jsx)("h4",{className:"font-medium",children:"5. Settlement Cascade"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"The preimage travels back along the route. Each node uses it to claim the incoming HTLC from the previous node, effectively settling the payment hop-by-hop back to the sender."})]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground italic mt-6",children:"If any hop fails (e.g., insufficient capacity, node offline), an error message propagates back, the HTLCs time out or are cancelled, and the sender can attempt a different route. The funds are never lost due to the HTLC mechanism."})]}),(0,s.jsxs)("div",{className:"bg-card p-6 rounded-lg border border-border",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,s.jsx)(y.A,{className:"h-5 w-5 mr-2 text-primary"}),"Operating a Routing Node"]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Running a successful routing node involves more than just being online. It requires active management and optimization."}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(b.A,{className:"h-4 w-4 mr-2 text-green-500"}),"Uptime & Reliability"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Consistent uptime is paramount. Offline nodes can't route payments and hurt the reliability of paths involving them."})]}),(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2 text-yellow-500"}),"Capital & Liquidity"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sufficient capital allocated to well-placed, balanced channels is crucial for handling routing volume."})]}),(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(j.A,{className:"h-4 w-4 mr-2 text-blue-500"}),"Fee Strategy"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set competitive but sustainable fees. Monitor flows and adjust fees to manage liquidity and maximize earnings."})]}),(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(k.A,{className:"h-4 w-4 mr-2 text-purple-500"}),"Balanced Channels"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Actively manage channel liquidity (rebalancing) so channels can forward payments in both directions."})]}),(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(N.A,{className:"h-4 w-4 mr-2 text-red-500"}),"Connectivity"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect to diverse, well-connected peers to position your node strategically within the network graph."})]}),(0,s.jsxs)("div",{className:"bg-background p-4 rounded-lg border border-border",children:[(0,s.jsxs)("h5",{className:"font-medium mb-2 flex items-center",children:[(0,s.jsx)(v,{className:"h-4 w-4 mr-2 text-indigo-500"}),"Monitoring & Automation"]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use tools (RTL, Thunderhub, scripts) to monitor performance, automate fee adjustments, and manage channels."})]})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground italic mt-4",children:"Running a routing node can be complex and requires ongoing effort. Start small, learn the dynamics, and gradually scale your operations."})]})]})]}),(0,s.jsx)(i.A,{moduleId:A,sectionId:M,verificationId:"".concat(M,"-complete"),label:"I understand the basic principles of Lightning routing, the process involved, and the factors for running a routing node."})]})})}},63578:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]])},67031:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(95155);r(12115);var a=r(43970);let n=e=>{let{quote:t,date:r,source:n,sourceUrl:i,children:l}=e;return(0,s.jsxs)("div",{className:"bg-muted/30 border border-border p-6 rounded-lg my-6 relative",children:[(0,s.jsx)("div",{className:"absolute -left-2 -top-2 bg-bitcoin-orange text-white p-1 rounded-full",children:(0,s.jsx)(a.A,{className:"h-4 w-4"})}),(0,s.jsxs)("p",{className:"italic text-lg text-foreground/90 leading-relaxed",children:['"',t,'"']}),(0,s.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[n&&(0,s.jsx)("span",{className:"font-medium",children:i?(0,s.jsx)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-bitcoin-orange hover:underline",children:n}):n}),r&&(0,s.jsxs)("span",{children:["— ",r]})]}),l&&(0,s.jsx)("div",{className:"mt-4",children:l})]})}},70686:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},71539:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},76356:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]])},78208:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var s=r(95155),a=r(12115),n=r(93156),i=r(35695),l=r(5196);let d=e=>{let{moduleId:t,verificationId:r,sectionId:d,label:c="I understand what Bitcoin is and its revolutionary properties"}=e,{updateSectionProgress:o,getSectionProgress:m,markSectionComplete:h}=(0,n.v)(),u=(0,i.usePathname)().includes("/lightning")?"lightning":"bitcoin",x=t.includes("-")?t:"".concat(u,"-").concat(t),g=d||r,[p,f]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{f(m(u,x,g)>=100)},[x,r,g,u]),(0,s.jsx)("div",{className:"mt-4 mb-8",children:(0,s.jsxs)("button",{onClick:()=>{let e=!p;f(e),e&&(o(u,x,g,r),h(u,x,g))},className:"flex items-center focus:outline-none",children:[(0,s.jsx)("div",{className:"\n          w-5 h-5 rounded-sm flex items-center justify-center mr-3\n          ".concat(p?"bg-emerald-500":"border border-muted-foreground","\n        "),children:p&&(0,s.jsx)(l.A,{className:"h-4 w-4 text-white"})}),(0,s.jsx)("span",{className:"text-sm",children:c})]})})}},81284:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},92138:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},93550:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(19946).A)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[1778,4055,9051,3156,6400,8441,1684,7358],()=>t(5505)),_N_E=e.O()}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[588],{30588:(e,n,t)=>{t.r(n),t.d(n,{LightningNetwork:()=>c});var i=t(95155),o=t(12115),d=t(71539);function c(){let e=(0,o.useRef)(null),[n,t]=(0,o.useState)(!1),[c,r]=(0,o.useState)([]),[a,l]=(0,o.useState)([]),s=(0,o.useRef)(0);return(0,o.useEffect)(()=>{let e=[{id:"node1",x:50,y:100,connections:["node2","node3"]},{id:"node2",x:200,y:50,connections:["node1","node4"]},{id:"node3",x:200,y:150,connections:["node1","node4","node5"]},{id:"node4",x:350,y:100,connections:["node2","node3","node6"]},{id:"node5",x:350,y:200,connections:["node3","node6"]},{id:"node6",x:500,y:150,connections:["node4","node5"]}],n=[];e.forEach(e=>{e.connections.forEach(t=>{e.id<t&&n.push({source:e.id,target:t,active:!1})})}),r(e),l(n)},[]),(0,o.useEffect)(()=>{if(e.current&&c.length>0){let n=e.current,t=n.getContext("2d");t&&(t.clearRect(0,0,n.width,n.height),a.forEach(e=>{let n=c.find(n=>n.id===e.source),i=c.find(n=>n.id===e.target);n&&i&&(t.beginPath(),t.moveTo(n.x,n.y),t.lineTo(i.x,i.y),e.active?(t.strokeStyle="#E74C3C",t.lineWidth=3):(t.strokeStyle="#2C3E50",t.lineWidth=1),t.stroke())}),c.forEach(e=>{t.beginPath(),t.arc(e.x,e.y,10,0,2*Math.PI),t.fillStyle="#8E44AD",t.fill(),t.font="12px Arial",t.fillStyle="#FFF",t.textAlign="center",t.textBaseline="middle",t.fillText(e.id.replace("node",""),e.x,e.y)}))}},[c,a]),(0,o.useEffect)(()=>()=>{s.current&&cancelAnimationFrame(s.current)},[]),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("canvas",{ref:e,width:550,height:250,className:"w-full h-auto bg-gray-900 rounded-md"}),(0,i.jsxs)("button",{onClick:()=>{if(n)return;t(!0),l(a.map(e=>({...e,active:!1})));let e=["node1","node3","node5","node6"],i=0,o=()=>{if(i<e.length-1){let n=e[i],t=e[i+1];l(e=>e.map(e=>e.source===n&&e.target===t||e.source===t&&e.target===n?{...e,active:!0}:e)),i++,s.current=requestAnimationFrame(o)}else setTimeout(()=>{l(a.map(e=>({...e,active:!1}))),t(!1)},1e3)};s.current=requestAnimationFrame(o)},disabled:n,className:"absolute top-4 right-4 bg-lightning-purple hover:bg-lightning-purple/90 text-white px-4 py-2 rounded-md flex items-center disabled:opacity-50",children:[(0,i.jsx)(d.A,{className:"mr-2 h-4 w-4"}),n?"Sending...":"Send Payment"]})]})}}}]);